---
type: "agent_requested"
description: "Ubuntu终端美化项目自动触发规则"
---

# Ubuntu终端美化项目 - 自动触发规则

## 项目识别与自动应用

当检测到以下特征时，自动应用本规则：
- 项目名称包含 "scripts-for-linux"
- 存在 `install.py` 或 `install.sh` 文件
- 包含 `scripts/` 目录结构
- README.md 中提及 Ubuntu 服务器初始化

## 核心原则

### 1. 系统安全优先
- **权限检查**：在执行任何系统级操作前，必须验证当前用户权限
- **备份策略**：修改系统配置文件前，自动创建备份
- **回滚机制**：提供配置回滚功能，确保系统可恢复
- **权限最小化**：仅在必要时请求 sudo 权限

### 2. Ubuntu 兼容性保证
- **版本检测**：自动检测 Ubuntu 版本（20.04-24.04）
- **架构支持**：同时支持 x64 和 ARM64 架构
- **包管理器**：优先使用 apt 包管理器，配置国内镜像源
- **依赖处理**：自动解决软件包依赖关系

### 3. Python 脚本规范
- **虚拟环境**：推荐使用 Python 虚拟环境隔离依赖
- **错误处理**：实现完善的异常捕获和错误恢复
- **日志记录**：提供详细的操作日志和进度反馈
- **模块化设计**：保持脚本的模块化和可维护性

### 4. 终端美化最佳实践
- **Shell 兼容**：确保与 bash 和 zsh 的兼容性
- **主题配置**：提供多种主题选择和自定义选项
- **性能优化**：避免影响终端启动速度
- **用户体验**：提供直观的配置界面和帮助信息

## 自动化行为

### 代码分析
- 自动识别 Python 脚本中的系统调用
- 检查 shell 脚本的安全性和兼容性
- 验证配置文件的语法正确性

### 建议生成
- 根据系统环境推荐最适合的配置
- 提供性能优化建议
- 识别潜在的兼容性问题

### 测试验证
- 自动运行相关测试脚本
- 验证安装后的功能完整性
- 检查配置文件的有效性

